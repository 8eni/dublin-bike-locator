{"version":3,"sources":["environment/environment.js","components/CurrentLocation.js","assets/MapStyles.js","components/Marker.js","views/Map.js","components/Header.js","components/CircularIndeterminate.js","App.js","serviceWorker.js","index.js"],"names":["environment","dbBaseUrl","dbContract","dbApiKey","google_maps_api_key","useStyles","makeStyles","theme","root","display","width","height","borderRadius","cursor","boxShadow","animation","& svg","margin","color","primary","&hover","CurrentLocation","classes","react_default","a","createElement","className","MyLocation_default","MapStyles","styles","elementType","stylers","visibility","featureType","withStyles","background","palette","secondary","main800","lineHeight","textAlign","fontSize","fontWeight","active","main","Marker","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","bind","assertThisInitialized","props","viewStation","station","_this$props","number","concat","onClick","Component","Map","googleMapsApiKey","updateStation","state","stations","setState","val","map","maps","lat","lng","console","log","latLng","LatLng","panTo","_this2","pan","center","zoom","mapType","lib_default","bootstrapURLKeys","key","options","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","_ref","apiIsLoaded","components_CurrentLocation","i","components_Marker","available_bikes","available_bike_stands","position","minHeight","zIndex","top","title","flexGrow","toolbar","toggle","&.Mui-selected","&:hover","main700","smlFont","Header","currentStation","setName","children","ToggleButton","value","DirectionsBike_default","LocalParking_default","AppBar","Toolbar","Typography","variant","name","NearMe_default","distance","ToggleButtonGroup","size","exclusive","onChange","CircularProgress","progress","createMuiTheme","typography","useNextVariants","main50","main100","main200","main300","main400","main500","main600","App","getStations","handleName","type","getGeolocation","setInterval","_this3","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","watchGeoLocation","_this4","watchPosition","setActiveStation","s","fetch","response","json","result","appendDistance","getClosest","_this5","item","toFixed","sort","b","lat1","lon1","lat2","lon2","unit","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","e","_this6","length","MuiThemeProvider","react_router_dom","basename","process","id","react_router","path","render","views_Map","assign","style","justifyContent","components_CircularIndeterminate","Boolean","window","location","hostname","match","src_App_0","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d6a1bcbd.chunk.js","sourcesContent":["export const environment = {\n  dbBaseUrl: 'https://api.jcdecaux.com/vls/v1/',\n  dbContract: 'Dublin',\n  dbApiKey: 'bbbdbe0c576a57bd979453af7228f03a88759b13',\n  google_maps_api_key: 'AIzaSyATI7fhyrRNch0Bu_xvVzAPsaJrDUZs73g'\n};","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MyLocationIcon from '@material-ui/icons/MyLocation';\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: 'block',\n\t\twidth: '15px',\n\t\theight: '15px',\n\t\tborderRadius: '50%',\n\t\tcursor: 'pointer',\n\t\tboxShadow: '0 0 0 rgba(100, 255, 218, 0.4)',\n\t\tanimation: 'pulse 2s infinite',\n\t\t'& svg': {\n\t\t\tmargin: '-4px',\n\t\t\tcolor: theme.primary\n\t\t},\n\t\t'&hover': {\n\t\t\tanimation: 'none'\n\t\t}\n\t}\n}));\n\nconst CurrentLocation = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<div className={classes.root}><MyLocationIcon color=\"secondary\"/></div>\n\t)\n}\n\nexport default CurrentLocation;","const MapStyles = {\n    styles: [\n        {\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#000\"\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.icon\",\n          \"stylers\": [\n            {\n              \"visibility\": \"off\"\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#616161\"\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.text.stroke\",\n          \"stylers\": [\n            {\n              \"color\": \"#f5f5f5\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"administrative.land_parcel\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#bdbdbd\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#eeeeee\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#757575\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi.park\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#e5e5e5\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi.park\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#9e9e9e\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#ffffff\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.arterial\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#757575\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.highway\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#dadada\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.highway\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#616161\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.local\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#9e9e9e\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"transit.line\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#e5e5e5\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"transit.station\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#eeeeee\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"water\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#757575\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"water\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#ffffff\"\n            }\n          ]\n        }\n      ]\n  };\n  export default MapStyles;","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst useStyles = withStyles(theme => ({\n  root: {\n    display: 'block',\n    width: '28px',\n    height: '28px',\n    background: theme.palette.secondary.main800,\n    color: 'white',\n    borderRadius: '28px',\n    lineHeight: '28px',\n    textAlign: 'center',\n    margin: '-10px 0 0 -10px',\n    fontSize: '13px',\n    fontWeight: 'bold'\n  },\n  active: {\n    background: theme.palette.primary.main,\n    color: 'black'\n  }\n}));\n\nclass Marker extends Component {\n  constructor() {\n    super();\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    this.active = true;\n    return this.props.viewStation(this.props.station)\n  }\n  render() {\n    const { classes, station, number } = this.props;\n    return (\n      <div className={`${classes.root} ${station.active ? classes.active : ''}`} onClick={ this.handleClick }>{number}</div>\n    )\n  }\n}\n\nexport default useStyles(Marker);","import React, { Component } from 'react';\nimport GoogleMapReact from 'google-map-react';\n\nimport { environment } from '../environment/environment';\nimport CurrentLocation from '../components/CurrentLocation';\nimport MapStyles from '../assets/MapStyles';  \nimport Marker from '../components/Marker';\n\nclass Map extends Component {\n  constructor(props) {\n    super(props)\n    this.googleMapsApiKey = environment.google_maps_api_key;\n    this.updateStation = this.updateStation.bind(this)\n    this.state = { \n      station: 'station',\n      stations: []\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ station: this.state.stations[0] })\n  }\n\n  updateStation(val) {\n    this.setState({ station: val })\n    this.props.updateStation(val);\n  }\n\n  apiIsLoaded(map, maps, lat, lng) {\n    console.log(lat);\n    \n    if (map) {\n      const latLng = new maps.LatLng(lat, lng) // Makes a latlng\n      map.panTo(latLng);\n    }\n  };\n // https://github.com/google-map-react/google-map-react/issues/407\n // https://stackoverflow.com/questions/52259634/reposition-the-center-of-the-map-when-the-location-changes\n  render() {\n    const { pan, center, zoom, stations, mapType } = this.props;\n    return (\n      <div>\n        <GoogleMapReact\n          bootstrapURLKeys={{ key: this.googleMapsApiKey }}\n          center={ center }\n          options={ MapStyles }\n          defaultZoom={ zoom }\n          yesIWantToUseGoogleMapApiInternals\n          onGoogleApiLoaded={({ map, maps }) => this.apiIsLoaded(map, maps, pan.lat, pan.lng)}\n          >\n          <CurrentLocation\n            lat={ pan.lat }\n            lng={ pan.lng } />\n          { stations.map((station, i) =>\n            <Marker\n              key={ i }\n              number={ mapType === 'bike' ? station.available_bikes : station.available_bike_stands }\n              viewStation={ this.updateStation }\n              lat={ station.position.lat }\n              lng={ station.position.lng }\n              station={ station } />\n          )}\n        </GoogleMapReact>\n      </div>\n    )\n  }\n}\n\nexport default Map;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport DirectionsBikeIcon from '@material-ui/icons/DirectionsBike';\nimport LocalParkingIcon from '@material-ui/icons/LocalParking';\nimport NearMeIcon from '@material-ui/icons/NearMe';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    minHeight: '64px',\n    position: 'fixed',\n    zIndex: 5,\n    width: '100%',\n    top: 0,\n  },\n  title: {\n    flexGrow: 1,\n  },\n  toolbar: {\n    minHeight: '64px',\n  },\n  toggle: {\n    background: theme.palette.secondary.main800,\n      '&.Mui-selected': {\n        background: theme.palette.primary.main,\n      '&:hover': {\n        background: theme.palette.primary.main,\n      }\n    },\n    '&:hover': {\n      background: theme.palette.secondary.main700\n    }\n  },\n  smlFont: {\n    fontSize: '21px'\n  }\n}));\n\nexport default ({ currentStation, mapType, setName }) => {\n  const classes = useStyles();\n\n  const children = [\n    <ToggleButton className={classes.toggle} key={1} value=\"bike\">\n      <DirectionsBikeIcon />\n    </ToggleButton>,\n    <ToggleButton className={classes.toggle} key={2} value=\"park\">\n      <LocalParkingIcon />\n    </ToggleButton>,\n  ];\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" color=\"secondary\">\n        <Toolbar className={classes.toolbar}>\n          <Typography variant=\"subtitle1\" className={classes.title}>\n            { currentStation.name } <NearMeIcon className={classes.smlFont} />{currentStation.distance}km\n          </Typography>\n          <ToggleButtonGroup size=\"small\" value={mapType} exclusive onChange={setName}>\n                {children}\n              </ToggleButtonGroup>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = theme => ({\n  // progress: {\n  //   margin: theme.spacing.unit * 2\n  // },\n});\n\nfunction CircularIndeterminate(props) {\n  const { classes } = props;\n  return (\n    <div>\n      <CircularProgress className={classes.progress} color=\"secondary\" />\n    </div>\n  );\n}\n\nCircularIndeterminate.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CircularIndeterminate);\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route  } from 'react-router-dom';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport './App.css';\n\nimport { environment } from './environment/environment';\nimport Map from './views/Map';\nimport Header from './components/Header';\nimport CircularIndeterminate from './components/CircularIndeterminate';\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  palette: {\n    primary: {\n      main: '#64ffda',\n    },\n    secondary: {\n      main: '#212121',\n      main50: '#fafafa',\n      main100: '#f5f5f5',\n      main200: '#eeeeee',\n      main300: '#e0e0e0',\n      main400: '#bdbdbd',\n      main500: '#9e9e9e',\n      main600: '#757575',\n      main700: '#616161',\n      main800: '#424242'\n    },\n  },\n});\nclass App extends Component {\n  \n\n  constructor(){\n    super();\n    this.getStations = this.getStations.bind(this)\n    this.handleName = this.handleName.bind(this)\n    this.updateStation = this.updateStation.bind(this)\n    this.state = {\n      center: { }, \n      pan: { }, \n      zoom: 16,\n      stations: [],\n      station: '',\n      type: 'bike' // Add Pre-screen to decide this state\n    }\n  }\n  \n\n  componentDidMount() {\n    this.getGeolocation();\n    // Refresh every 60 seconds\n    setInterval(() => {\n      this.getStations(this.state.center.lat, this.state.center.lng)\n    }, 60000)\n  }\n\n  getGeolocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => {\n        this.setState({\n          center: {\n            lat: pos.coords.latitude,\n            lng: pos.coords.longitude\n          },\n          pan: {\n            lat: pos.coords.latitude,\n            lng: pos.coords.longitude\n          }\n        }, () => this.getStations(this.state.center.lat, this.state.center.lng));\n      });\n      this.watchGeoLocation();\n    } else {\n      // Set 'center' to city center\n      this.setState({\n        center: {\n          lat: 53.347316, lng: -6.259184\n        }\n      }, () => this.getStations(this.state.center.lat, this.state.center.lng));\n      \n    }\n  }\n\n  watchGeoLocation() {\n    navigator.geolocation.watchPosition(pos => {\n      // let count = 0;\n      // setInterval(() => {\n      //   count = count + 0.001;\n      //   console.log(count);\n      //   this.setState({\n      //     pan: {\n      //       lat: pos.coords.latitude+count,\n      //       lng: pos.coords.longitude\n      //     }\n      //   });\n      // }, 5000)\n      this.setState({\n        pan: {\n          lat: pos.coords.latitude,\n          lng: pos.coords.longitude\n        }\n      });\n    })\n  }\n\n  updateStation(val) {\n    const setActiveStation = this.state.stations.map(s => (val.number === s.number) ? (s.active = true, s) : (s.active = false, s))\n    this.setState({ \n      station: val,\n      stations: setActiveStation\n    })\n  }\n\n  async getStations(lat, lng) {\n    const { dbBaseUrl, dbContract, dbApiKey} = environment;\n    const response = await fetch(`${dbBaseUrl}stations?contract=${dbContract}&apiKey=${dbApiKey}`)\n    const json = await response.json();\n    const result = this.appendDistance(json, lat, lng);\n    this.setState({ stations: this.getClosest(result) });\n  }\n\n  appendDistance(response, lat, lng) {\n    const result = response.map(item => {\n      item.distance = this.distance(lat,lng, item.position.lat, item.position.lng, 'K').toFixed(2);\n      return item;\n    })\n    return result;\n  }\n\n  getClosest(stations) {\n    const result = stations.sort((a,b) => (a.distance > b.distance) ? 1 : ((b.distance > a.distance) ? -1 : 0));\n    result[0].active = true;\n    this.setState({ station: result[0] } )\n    return result;\n  }\n\n  distance(lat1, lon1, lat2, lon2, unit) {\n    if ((lat1 === lat2) && (lon1 === lon2)) {\n      return 0;\n    }\n    else {\n      var radlat1 = Math.PI * lat1/180;\n      var radlat2 = Math.PI * lat2/180;\n      var theta = lon1-lon2;\n      var radtheta = Math.PI * theta/180;\n      var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n      if (dist > 1) {\n        dist = 1;\n      }\n      dist = Math.acos(dist);\n      dist = dist * 180/Math.PI;\n      dist = dist * 60 * 1.1515;\n      if (unit===\"K\") { dist = dist * 1.609344 }\n      if (unit===\"N\") { dist = dist * 0.8684 }\n      return dist;\n    }\n  }\n  \n  handleName(e, a) {\n    return this.state.type !== a && a !== null && this.setState({ type: a });\n  }\n  \n  render() {\n    if (this.state.stations.length) {\n      return (\n        <MuiThemeProvider theme={theme}>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <div id=\"wrapper\">\n          <Header \n            currentStation={ this.state.station }\n            mapType={this.state.type}\n            setName={this.handleName} />\n          <div className='main'>\n            <Route\n              path=\"/\"\n              render={(props) => <Map {...props}\n                mapType={ this.state.type }\n                updateStation={ this.updateStation }\n                stations={ this.state.stations }\n                center={ this.state.center }\n                pan={ this.state.pan }\n                zoom={ this.state.zoom }\n              />} />\n              </div>\n          </div>\n        </BrowserRouter>   \n        </MuiThemeProvider>\n      );\n    } else {\n      return (\n      <MuiThemeProvider theme={theme}>\n        <div style={{display: 'flex', justifyContent: 'center'}}>\n          <CircularIndeterminate></CircularIndeterminate>\n        </div>\n      </MuiThemeProvider>\n      )\n    }\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {  } from 'bootstrap/dist/css/bootstrap.css';\nimport React from 'react';\nimport { render } from \"react-dom\";\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './index.css';\n// import './assets/material-kit.css';\n\nrender(<App />, document.getElementById(\"root\"));\n\n// // If you want your app to work offline and load faster, you can change\n// // unregister() to register() below. Note this comes with some pitfalls.\n// // Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}